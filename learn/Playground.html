<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learn: Playground</title>
  <link rel="stylesheet" href="../css/Playground.css">
  <link rel="stylesheet" href="/css/util/utility.css">
  <link rel="stylesheet" href="../static/cm/default/codemirror.css">

  <link rel="stylesheet" href="/css/util/learnFiles.UTIL.css">
</head>

<body>

  <h2>HTML/CSS Playground</h2>
  <h3 style="font-weight: 100; color: var(--text-color); text-align: center;">This playground can be used as a fully functioning code editor like visual studio code, it has emmet, syntax highlighting, pretty much a codepen clone, just without sharing.<br /><sub>(P.S: it also saves when you refresh the website, so to refresh the code, just press the refresh button )</sub><br><sub>The emmet Abbreviations do not really work without the tab key, enter key does not work for emmet, so no tab key,
    no emmet.</sub></h3><br />
    
    <p style="text-align: center; color: var(--text-color);">The first textarea is for HTML, second is for CSS, and third is for JS<br><br>If your changes do not take place after clicking on save code button, consider refreshing the webpage</p>

    <br /><br /><br /><br />
<!--
    <div class="file-input">

      <button class="click html">HTML</button>

      <button class="click css">CSS</button>

    </div> -->

    <button class="saveCode-Op399KhBkAJhOyNmUU-OPArims" id="initial" style="position: absolute; left: 50%; transform: translate(-50%);">Remove External Code</button>

    <br>
    <br>

    <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 1.25rem; width: 100%;">
    
      <button class="saveCode-Op399KhBkAJhOyNmUU-OPArims" id="rfcd">Refresh Code</button>
      <button class="saveCode-Op399KhBkAJhOyNmUU-OPArims" style="margin-left: 1rem;" id="svcd">Save
        Code</button><br /><br />
    
    </div>

    <div class="flex" style="justify-content: space-between;">

      <div class="tac">
    
      <textarea class="lolText cs_kkJIUUI9-0-JU2Y7ihbHY78bJNJj2iM html_ta" id="custom" placeholder="Write HTML here..."></textarea>
    
      <textarea class="lolTexta cs_kkJIUUI9-0-JU2Y7ihbHY78bJNJj2iM css_ta" id="custom_" placeholder="Write CSS here..."></textarea>

      <textarea class="jsLol cs_kkJIUUI9-0-JU2Y7ihbHY78bJNJj2iM js_ta" id="_custom_" placeholder="Write JS here..."></textarea>

      </div>

      <span class="sepr"></span>


      <iframe style="height: 101.5vh; width: 51.5vw;background: var(--input-bg); border: solid .1rem var(--text-color)"></iframe>

    </div>
    
    </div><br /><br />

    <div class="flex2">

    <label id="labelfor" class="show"></label>

    </div><br /><br />

    <div class="browser-tabpreview hide">

      <div class="box">
        <img style="height: 1rem; width: 1rem;">
        <label id="title-iframe">[{Iframe HTMLContent}]</label>
      </div>
<!--
      <div class="flex">
      -->
      <p style="text-align: center;">To reload this, you need to reload the website. ( after saving your code )</p>
<!--
      </div> -->

    </div>
  <script src="../static/cm/default/codemirror.js"></script>
  <script src="../static/cm/modes/html/m-html.js"></script>
  <script src="../static/cm/modes/css/m-css.js"></script>
  <script src="../static/cm/modes/js/m-js.js"></script>
  <script src="../static/cm/modes/xml/m-xml.js"></script>
  <script src="../static/cm/extra/autoCloseBrackets.js"></script>
  <script src="../static/cm/extra/highlightHoveredBrackets.js"></script>
  <script src="../static/cm/extra/codeFolding.js"></script>
  <script src="../static/cm/extra/foldGutters.js"></script>
  <script src="../static/cm/extra/matchHTML_tags.js"></script>
  <script src="../static/cm/modes/xml/extra-xml.js"></script>
  <script src="../static/cm/modes/xml/xml-fold.js"></script>
  <script src="../static/cm/extra/placeHolder.js"></script>
  <script src="../static/emmet/browser.js"></script>
  <script src="/js/util/utility.js"></script>
  <script>
    const myTextarea = document.querySelector(".lolText");
    const myTextarea_ = document.querySelector(".lolTexta");
    const jsTextarea = document.querySelector(".jsLol");

    const htmlButton = document.querySelector(".click.html");
    const cssButton = document.querySelector(".click.css");

      var editor = CodeMirror.fromTextArea(myTextarea, {
        lineNumbers: true,
        lineWrapping: true,
        mode: "htmlmixed",
        matchBrackets: true,
        autoCloseBrackets: "()[]{}''\"\"``",
        matchTags: true,
        extraKeys: {
          'Tab': 'emmetExpandAbbreviation',
          'Esc': 'emmetResetAbbreviation',
          'Enter': 'emmetInsertLineBreak'
        },
      });

      var editor2 = CodeMirror.fromTextArea(myTextarea_, {
        lineNumbers: true,
        lineWrapping: true,
        mode: "css",
        matchBrackets: true,
        autoCloseBrackets: true,
        matchTags: true,
        extraKeys: {
          'Tab': 'emmetExpandAbbreviation',
          'Esc': 'emmetResetAbbreviation',
          'Enter': 'emmetInsertLineBreak'
        }
      });

      var editor3 = CodeMirror.fromTextArea(jsTextarea, {
        lineNumbers: true,
        lineWrapping: true,
        mode: "javascript",
        matchBrackets: true,
        autoCloseBrackets: true,
        matchTags: true,
        extraKeys: {
          'Tab': 'emmetExpandAbbreviation',
          'Esc': 'emmetResetAbbreviation',
          'Enter': 'emmetInsertLineBreak'
        }
      });

        const iframe = document.querySelector("iframe");
        const iframe_content = iframe.contentDocument;

    //    const consoleOutput = document.querySelector(".console");

        const saveCodeBtn = document.getElementById("svcd");
        const refCodeBtn = document.getElementById("rfcd");

          let titleContent;
          let href;

        saveCodeBtn.addEventListener("click", () => {

          const queryCode = editor.getValue();
          const cssCode = editor2.getValue();
          const jsCode = editor3.getValue();

          iframe_content.body.innerHTML = `<style> ${cssCode} </style> ${queryCode}`;
          iframe.contentWindow.eval(jsCode);
          


          localStorage.setItem("queryCode", queryCode);
          localStorage.setItem("cssCode", cssCode);
          localStorage.setItem("jsCode", jsCode);

          window.location.href = "/learn/Playground.html";
        });

        refCodeBtn.addEventListener("click", () => {
          editor.setValue("");
          editor2.setValue("");
          editor3.setValue("");

          iframe_content.body.innerHTML = "";
          iframe.contentWindow.eval("");

          localStorage.setItem("queryCode", "");
          localStorage.setItem("cssCode", "");
          localStorage.setItem("jsCode", "");
        });

        editor.setValue(localStorage.getItem("queryCode"));
        editor2.setValue(localStorage.getItem("cssCode"));
        editor3.setValue(localStorage.getItem("jsCode"));

        iframe_content.body.innerHTML = `<style> ${localStorage.getItem("cssCode")} </style> ${localStorage.getItem("queryCode")}`;
        iframe.contentWindow.eval(localStorage.getItem("jsCode"));

        const showPrevLabel = document.getElementById("labelfor");
        const prevInput = document.getElementById("browser-preview");
        const prevDiv = document.querySelector(".browser-tabpreview");
        const label = document.querySelector(".browser-tabpreview .box label");
        const prevImage = document.querySelector(".browser-tabpreview .box img");

        showPrevLabel.textContent = "Show Browser Tab Preview";

        showPrevLabel.addEventListener("click", () => {
            if(prevDiv.classList.contains("hide")){
              prevDiv.classList.remove("hide");
              showPrevLabel.textContent = "Hide Browser Tab Preview";
            } else if(!prevDiv.classList.contains("hide")){
              prevDiv.classList.add("hide");
              showPrevLabel.textContent = "Show Browser Tab Preview";
            }
        });

        const title = iframe_content.querySelector("title");
        const img = iframe_content.querySelector(`link[rel="icon"]`);

          if (!img) {
            href = "../assets/img/no-favicon.svg";
          } else if (img && img.href) {
            href = img.href;
          } else {
            href = "../assets/img/no-favicon.svg";
          }

          if (!title) {
            titleContent = "Document";
          } else if (title.textContent == "" || !title.textContent) {
            titleContent = "Document";
          } else if (title.textContent) {
            titleContent = title.textContent;
          }

          label.textContent = titleContent;
          prevImage.setAttribute("src", href);

          const urlSearchParams = new URLSearchParams(window.location.search);

          const query = urlSearchParams.get("query");
          const queryCode = urlSearchParams.get("code");

          if(query == "htmlCode"){

            if(queryCode == "title"){

              editor.setValue(
`<title>Some title</title>
<!-- Sets the title which you see on the browser tab -->
`)

            }

            if(queryCode == "p"){

              editor.setValue(
`<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni illo facilis itaque, consectetur distinctio maiores qui! Voluptatum dicta veritatis at!</p>

<!-- this defines a medium font-size paragraph in your webpage -->
`
              )

            }

            if(queryCode == "img"){

              editor.setValue(
`<img src="a link or path"> 

<!-- you can also define an "alt=" attribute like the src, so if the link or file path is incorrect or cannot load, the text given in alt="" shows up. -->
`
              )

            }

            if(queryCode == "input"){

              editor.setValue(
`<!-- 

The normal <input> tag gives a text input in which users can fill in letters, words, etc ( basically anything )
The <input type=""> defines what type of input it should be.

for example:

also, the <br> tag gives a line break. ( moves to new line )
-->



<input type="button"> <!-- same as <button> tag -->

<br>

<input type="checkbox"> <!-- it's a checkbox, as the type defines. when a user clicks it, it becomes checked and the attribute "checked" becomes true -->

<br>

<input type="color"> <!-- simple color picker as the name says. -->

<br>

<input type="date"> <!-- MM-DD-YYYY Date format date input. -->

<br>

<input type="datetime-local"> <!-- same as above but taken in local. -->

<br>

<input type="email"> <!-- email address input. -->

<br>

<input type="file"> <!-- file input, takes a file, not a folder.-->

<br>

<input type="hidden"> <!-- hidden input, as the name suggests. -->

<br>

<input type="image"> <!-- image input, supports image extensions such as .png, .jpg, etc. -->

<br>

<input type="month"> <!-- month input like january, october, december, etc. -->

<br>

<input type="number"> <!-- number input like 1, 2, 7, 0, 4, etc. -->

<br>

<input type="password"> <!-- password input, has the hide feature which shows the password as dots. -->

<br>

<input type="radio"> <!-- these type of inputs are connected by the "name" attribute, they work like checkboxes, but only 1 in a group of these inputs can be checked. -->

<br>

<input type="range"> <!-- a number input through a slider. -->

<br>

<input type="reset"> <!-- this input works on forms, resetting everything entered in the form. -->

<br>

<input type="search"> <!-- this input is designed for the user to enter search queries. -->

<br>

<input type="submit"> <!-- this input type is used to submit a form. ( if in one ) -->

<br>

<input type="tel"> <!-- this input type is used to take in a telephone number. -->

<br>

<input type="text"> <!-- this is pretty much "<input>" but it's recommended you define a type. -->

<br>

<input type="time"> <!-- this input takes in a specific time, the design varies from system to system. -->

<br>

<input type="url"> <!-- this type of input takes in a url ( https:// ) -->

<br>

<input type="week"> <!-- this input takes in a week. -->
`
              )

            }

            if(queryCode == "div"){

              editor.setValue(
`<div>    
    <input type="button">  
    <img src="url or path" alt="image"> <!-- alt attribute gives out text if the image url/path is invalid. -->
</div>
`
              )

            }

            if(queryCode == "ul"){

              editor.setValue(
`<ul>    
    <li>List Item #1</li>
    <li>List Item #2</li>
</ul>
`
              )

            }

            if(queryCode == "footer"){

              editor.setValue(
`<footer>Lorem ipsum dolor sit amet.</footer>
`
              )

            }

          }

          if(query == "cssCode"){

            if(queryCode == "selecting-elements"){

              editor.setValue("")

              editor2.setValue(
`/* assuming a HTML element has the id: "cool_thing" */

    #cool_thing{
      /* css */
    }



/* assuminng a HTML element has the class: "some_thing" */

    .some_thing{
      /* css */
    }



/* to just select all elements, just type in the element name: */

     p{
       /* css code */
     }

/* assuming there are 3 or more <p> tags, this selects the 3rd <p> tag. */

     p:nth-child(3){ 
       /* css code */
     }



/* you can also select elements according to their attributes ( like type="" in <input> tag). Custom attributes work too. */

    input[type="color"] {
      /* css code */
    }



/* you can also select elements according to their states, for example, :checked, or :focus, are states of the element. ":checked" only works for checkboxes and radio checkboxes. */

   input:checked{ 
      /* css code */
   }



/* you can select different tags or elements with the "," keyword, and the styles provided will apply for all the elements. for example: */

p, input, div{
  /* css code */
}

/* the "+" keyword, selects adjacent elements, ( simply only works if 2 tags are beside each other ) */

#first_para + #second_para {
  /* css code */
}



/* the general selector "~" selects every element of the value given in it's parent container, for example: "h1 ~ h6" selects every h6 element which are in the same container (body). */

/* now for css: */

p ~ span{ 
 /* css code */
}



/* the selector ">" selects everything ( on the right side of ">" ) if it's contained inside the element given on the left side of ">" */
/* for example, here's an HTML snippet:

<div id="container">

  <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae, laudantium?</p>
  <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae, laudantium?</p>
  <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae, laudantium?</p>
  <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae, laudantium?</p>

  <div class="sub-container">
    <p>Lorem ipsum...</p>
  </div>

</div>

<p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis unde soluta qui deleniti iure ullam.</p>

*/
/* now for the css */

.container > p{
  /* selects all the <p> tags inside of the div ( .container )  but will not select the <p> tag inside the .sub-container div. */
}



/* this selector is very similar to the ">" selector, but it doesn't have a key, just a simple space works, and seeing the above snippet for the > selector, the " " selector selects EVERY element, whether it be in a sub-container, sub-sub-container. */

/* to explain, take the above selector's HTML snippet */
/* now css */

.container p{
  /* selects all the <p> tags inside of .container div. also .sub-container div because it's inside .container. */
}



/* ( tip: this is how you comment ) 
    
as you read in the basic page of html startup, we can differentiate same elements by using id's or classes, or in some cases, both, so now, the above code shows how to select elements.
*/
`
              )

            }

            if(queryCode == "transition"){

              editor.setValue(
`<p>Lorem Ipsum...</p>

<div class="box">

</div>
`              
              )

              editor2.setValue(
`p{
  color: black;
  transition: color 500ms ease-in;
}

p:hover{
  color: red;
}

/* this means that a 500ms ( half of a second ) transition will take place when we place our mouseover the <p> tag, changing the color to red. */

/* example with "transform" property: */

.box{
  height: 100px;
  width: 100px;
  transition: transform 200ms ease-in-out;
  background: red;
}

/* first value is the thing you want the transition to be on, second is the time, and third is the way you want the transition to be. */

.box:hover{
  transform: scale(1.05); /* see below for more examples on how to use this property */
}
`
              )

            }

            if(queryCode == "transform"){

              editor.setValue(`<div class="box"></div>`)

              editor2.setValue(
`.box{
  width: 100px;
  height: 100px;
  background: red;
}

.box:hover{
  transform: rotate(45deg);
}
`
)

            }

            if(queryCode == "fonts"){

              editor.setValue("<p>Lorem Ipsum</p>");

              editor2.setValue(
`p{
  font-family: sans-serif;
  /* this defines the font-family of an element. */
  /* the browser saved fonts are : serif, sans-serif, monospace, cursive; these are basics, there are many more */

  font-weight: 500;
  /* this defines the boldness of the font, it has word properties too, like "bold", "bolder", "normal", etc. */

  font-size: 20px;
  /* this defines the size of the font, 16px is default for many elements. */

  font-style: italic;
  /* this defines how the font is shown, like oblique, italic, etc. */
}
`
              )

            }

            if(queryCode == "colors"){

              editor.setValue(
`<div class="test-container">

     <p class="test-paragraph">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Praesentium esse odio recusandae repudiandae totam, nobis aut tempora fuga quae eveniet.</p>

     <button class="test-btn">Click Me</button>

</div>
`                
              )

              editor2.setValue(
`.test-container{
  background-color: cornflowerblue;
  border-color: lime;
}

.test-container .test-paragraph{
  color: indianred;
}

.test-container .test-btn{
  background-color: gray;
  color: black;
}

/*
  background-color defines the color of the background of an element, in this case, the test-container
  border-color defines the color of the border of an element, in this case, the test-container
  color defines the text color of an element's text, in this case, test-btn and test-paragraph.
*/
`                
              )

            }

          }

  const removeSearchParams = document.getElementById("initial");

  removeSearchParams.addEventListener("click", () => {

    window.location.href = `/learn/Playground.html`;

  });

  </script>
</body>

</html>